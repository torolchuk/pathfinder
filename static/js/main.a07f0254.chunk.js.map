{"version":3,"sources":["сomponents/BuilderControls.js","helpers/vectors.js","helpers/map.js","сomponents/GridRenderer.js","сomponents/ControlWrap.js","сomponents/controls/NumberSelector.js","сomponents/controls/ArraySelector.js","helpers/path_finder.js","сomponents/Builder.js","App.js","reportWebVitals.js","index.js"],"names":["BuilderControls","props","className","children","map","child","index","MOVING_DIRECTIONS","x","y","createVector","cloneVector","v","LOCALSTORAGE_MAP_ID","ALL_BLOCK_TYPES","id","name","createMapOfSize","size","Array","fill","_","findPositionOfBlockTypeOnMap","blockType","length","setValueOnMap","point","value","GridRenderer","console","log","blockTypeCollection","forEach","type","row","yIndex","el","xIndex","isPathClass","isArray","path","find","p","blockTypeClass","toLowerCase","onClick","onCellClick","handleCellClick","ControlWrap","NumberSelector","onChanged","ArraySelector","list","item","selected","onChange","isLegitPointOnMap","position","maxValue","isLegitPointOnModel","model","closed","getCellInfoOnModel","finish","spendedCost","parent","a","b","vectorLength","Math","abs","fullCost","oldCell","prevFullCost","Cost","remainingCost","pathfinderIteration","start","spendedWay","dir","newPoint","cellInfo","nextSearch","cheapestCost","cheapestPos","cell","cellCoast","findCheapestPointOnModel","findPathOnMap","startPos","finishPos","Error","finishedModel","mapSize","getInitPathfinderModel","exit","currentPos","push","extractWayFromModel","Builder","useState","worldSize","setWorldSize","setMap","setBlockType","setPath","updateMap","newMap","wayModel","err","error","calcWay","loadMapFromStorage","storedMap","localStorage","getItem","JSON","parse","useEffect","newBlockType","existedBlockPos","iteration","newSize","oldMap","sizeDifference","slice","fillerArray","resizeMapToSize","setItem","stringify","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a07f0254.chunk.js","sourcesContent":["import React from 'react';\n\nimport './BuilderControls.scss'\n\nexport function BuilderControls(props) {\n    return (\n        <div className=\"builder-controls__container\">\n            <div className=\"builder-controls__name\">\n                Control your world:\n            </div>\n            <div className=\"builder-controls__proxy-box\">\n                {props.children.map((child, index) => \n                    <div key={index} className=\"builder-controls__child-box\">\n                        {child}\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}","export const DIR_UP    = '[DIRECTION] DIR_UP';\nexport const DIR_UP_RIGHT    = '[DIRECTION] DIR_UP_RIGHT';\nexport const DIR_RIGHT = '[DIRECTION] DIR_RIGHT';\nexport const DIR_RIGHT_DOWN = '[DIRECTION] DIR_RIGHT_DOWN';\nexport const DIR_DOWN  = '[DIRECTION] DIR_DOWN';\nexport const DIR_DOWN_LEFT  = '[DIRECTION] DIR_DOWN_LEFT';\nexport const DIR_LEFT  = '[DIRECTION] DIR_LEFT';\nexport const DIR_LEFT_UP  = '[DIRECTION] DIR_LEFT_UP';\n\nexport const MOVING_DIRECTIONS = {    \n    [DIR_UP]:    { x:  0, y: -1 },\n    [DIR_UP_RIGHT]:    { x:  1, y: -1 },\n    [DIR_RIGHT]: { x:  1, y:  0 },\n    [DIR_RIGHT_DOWN]: { x:  1, y:  1 },\n    [DIR_DOWN]:  { x:  0, y:  1 },\n    [DIR_DOWN_LEFT]:  { x:  -1, y:  1 },\n    [DIR_LEFT]:  { x: -1, y:  0 },\n    [DIR_LEFT_UP]:  { x: -1, y:  -1 },\n}\n\nexport const createVector = (x, y) => {\n    return { x, y };\n};\n\nexport const cloneVector = (v) => {\n    return {\n        ...v\n    }\n};\n\nexport const summVectors = (a, b) => {\n    return {\n        x: a.x + b.x,\n        y: a.y + b.y\n    }\n};\n\nexport const subsractVectors = (a, b) => {\n    return {\n        x: a.x - b.x,\n        y: a.y - b.y\n    }\n};\n\nexport const absVector = (v) => {\n    return {\n        x: Math.abs(v.x),\n        y: Math.abs(v.y)\n    }\n}\n\nexport const isVectorsEqual = (a, b) => {\n    return a.x === b.x && a.y === b.y;\n};\n","import { createVector } from \"./vectors\";\n\nexport const LOCALSTORAGE_MAP_ID = '[Local storage] MapID'\n\nexport const EMPTY_BLOCK_ID = 0;\n\nexport const WALL_BLOCK_ID = 1;\nexport const WALL_BLOCK_NAME = \"Wall\";\nexport const WALL_BLOCK = {\n    id: WALL_BLOCK_ID,\n    name: WALL_BLOCK_NAME\n}\n\nexport const START_BLOCK_ID = 2;\nexport const START_BLOCK_NAME = \"Start\";\nexport const START_BLOCK = {\n    id: START_BLOCK_ID,\n    name: START_BLOCK_NAME\n}\n\nexport const FINISH_BLOCK_ID = 3;\nexport const FINISH_BLOCK_NAME = \"Finish\";\nexport const FINISH_BLOCK = {\n    id: FINISH_BLOCK_ID,\n    name: FINISH_BLOCK_NAME\n}\n\nexport const ALL_BLOCK_TYPES = [\n    WALL_BLOCK,\n    START_BLOCK,\n    FINISH_BLOCK\n];\n\nexport function createMapOfSize(size) {\n    return new Array(size).fill(0).map(\n        _ => new Array(size).fill(EMPTY_BLOCK_ID)\n    );\n}\n\nexport function resizeMapToSize(oldMap, size) {\n    const sizeDifference = oldMap.length - size;\n    let newMap = null;\n\n    if (sizeDifference === 0) {\n        return oldMap;\n    } else if (sizeDifference >= 1) {\n        newMap = new Array(size).fill(null).map((_, index) => {\n            return oldMap[index].slice(0, size);\n        });\n    } else {\n        let fillerArray = new Array(Math.abs(sizeDifference)).fill(0);\n        newMap = new Array(size).fill(null).map((_, index) => {\n            if (!!oldMap[index]) {\n                return [...oldMap[index], ...fillerArray];\n            } else {\n                return new Array(size).fill(0);\n            }\n        });\n    }\n\n    return newMap;\n}\n\nexport function findPositionOfBlockTypeOnMap(map, blockType) {\n    for (let y = 0; y < map.length; y++) {\n        for (let x = 0; x < map[y].length; x++) {\n            if (map[y][x] === blockType) {\n                return createVector(x, y);\n            }\n        }\n    }\n\n    return null;\n}\n\nexport function setValueOnMap(map, point, value) {\n    const { x, y } = point;\n    map[y][x] = value;\n}","import React from 'react';\nimport { ALL_BLOCK_TYPES } from '../helpers/map';\nimport { createVector } from '../helpers/vectors';\n\nimport './GridRenderer.scss';\n\nexport function GridRenderer(props) {\n    console.log(props);\n\n    const blockTypeCollection = {};\n    ALL_BLOCK_TYPES.forEach(type => { blockTypeCollection[type.id] = type.name });\n    \n    function handleCellClick(x, y) {\n        const point = createVector(x, y);\n        !!props.onCellClick && props.onCellClick(point);\n    }\n\n    return (\n        !!props.map && \n        <div className=\"grid-renderer__container\">\n            <div className=\"grid-renderer__content\">\n                {\n                    props.map.map((row, yIndex) => \n                        <div className=\"grid-renderer__row\" key={'row_'+yIndex}>\n                            {row.map((el, xIndex) => {\n                                const isPathBlock = Array.isArray(props.path) && !!props.path.find(p => p.x === xIndex && p.y === yIndex);\n                                const isPathClass =  isPathBlock ? 'grid-renderer__cell__path' : '';\n                                const blockTypeClass = !!el ? 'grid-renderer__cell__' + blockTypeCollection[el].toLowerCase() : '';\n                                return (<div className={`grid-renderer__cell ${isPathClass} ${blockTypeClass}`}\n                                     key={`cell_${xIndex}:${yIndex}`}\n                                     onClick={_ => handleCellClick(xIndex, yIndex)}></div>)\n                                }\n                            )}\n                        </div>\n                    )\n                }\n            </div>\n        </div>        \n    )\n}\n","import React from 'react';\n\nimport './ControlWrap.scss';\n\nexport function ControlWrap(props) {\n    return (\n        <div className=\"control-wrap__container\">\n            <div className=\"control-wrap__name\">{props.name}: </div>\n            <div className=\"control-wrap__proxy-box\">{props.children || 'placeholder'}</div>\n        </div>\n    )\n}","import React from 'react';\n\nimport './NumberSelector.scss';\n\nexport function NumberSelector(props) {\n    return (\n        <div className=\"number-selector__container\">\n            <div className=\"number-selector__control\" onClick={_ => props.onChanged(-1)}>-</div>\n            <div className=\"number-selector__display\">{props.value}</div>\n            <div className=\"number-selector__control\" onClick={_ => props.onChanged(1)}>+</div>\n        </div>\n    )\n}","import React from 'react';\n\nimport './ArraySelector.scss';\n\nexport function ArraySelector(props) {\n\n    function handleClick(id) {\n        props.onChange && props.onChange(id);\n    }\n\n    return (\n        <div className=\"array-selector__container\">\n            { props.list.map((item) => \n                <div className={`array-selector__item ${item.id === props.selected ? 'array-selector__item__selected' : ''}`} \n                    key={item.id} \n                    onClick={_ => handleClick(item.id)}>{ item.name }</div>\n            )}\n        </div>\n    )\n}","import { findPositionOfBlockTypeOnMap, FINISH_BLOCK_ID, START_BLOCK_ID, WALL_BLOCK_ID } from \"./map\";\nimport { absVector, createVector, isVectorsEqual, MOVING_DIRECTIONS, subsractVectors, summVectors, cloneVector } from \"./vectors\";\n\nconst MAX_PATHFINDER_DEPTH = 100;\n\nfunction isLegitPointOnMap(map, position) {\n    const { x, y } = position;\n    const minValue = 0;\n    const maxValue = map.length;\n    return x >= minValue \n        && y >= minValue \n        && x < maxValue \n        && y < maxValue\n        && map[y][x] !== WALL_BLOCK_ID;\n}\n\nfunction isLegitPointOnModel(model, position) {\n    const { x, y } = position;\n    return (!model[y][x] || !model[y][x].closed);\n}\n\nfunction getCellInfoOnModel(model, position, finish, spendedCost, parent) {\n    const vectorLength = absVector(subsractVectors(position, finish));\n    const length = vectorLength.x + vectorLength.y;\n    const fullCost = length + spendedCost;\n\n    const oldCell = model[position.y][position.x];\n    const prevFullCost = !!oldCell ? oldCell.Cost + oldCell.spendedCost : null;\n\n    return (!prevFullCost || prevFullCost > fullCost)\n        ? { remainingCost: length, spendedCost, parent, closed: false }\n        : oldCell;\n}\n\nfunction getInitPathfinderModel(map, start, finish) {\n    const mapSize = map.length;\n    const model = new Array(mapSize).fill(0).map(_ => new Array(mapSize).fill(null));\n    model[start.y][start.x] = getCellInfoOnModel(model, start, finish, 0, null);\n\n    return model;\n}\n\nfunction findCheapestPointOnModel(model) {\n    let cheapestCost = null;\n    let cheapestPos = null;\n    \n    model.forEach((row, y) => {\n        row.forEach((cell, x) => {\n            if (!cell || !!cell.closed) return;\n            \n            const cellCoast = cell.spendedCost + cell.remainingCost;\n            if (!!cheapestCost && cheapestCost <= cellCoast) return;\n            \n            cheapestCost = cellCoast;\n            cheapestPos = createVector(x, y);\n        });\n    });\n\n    return cheapestPos;\n}\n\nfunction extractWayFromModel(model, start, finish) {\n    const path = [];\n    if (!model[finish.y][finish.x]) return path;\n    let exit = false;\n    let currentPos = cloneVector(finish);\n    path.push(currentPos);\n    \n    while (!exit) {\n        currentPos = cloneVector(model[currentPos.y][currentPos.x].parent);\n        path.push(currentPos);\n        \n        if (isVectorsEqual(currentPos, start)) \n            exit = true;\n    }\n\n    return path;\n}\n\nfunction pathfinderIteration(map, start, finish, model, spendedWay) {\n    if (spendedWay > MAX_PATHFINDER_DEPTH) return model;\n\n    model[start.y][start.x].closed = true;\n\n    for (let dir in MOVING_DIRECTIONS) {\n        const newPoint = summVectors(start, MOVING_DIRECTIONS[dir]);\n        if (isLegitPointOnMap(map, newPoint) && isLegitPointOnModel(model, newPoint)) {\n            const cellInfo = getCellInfoOnModel(model, newPoint, finish, spendedWay + 1, start);\n            if (cellInfo !== model[newPoint.y][newPoint.x]) model[newPoint.y][newPoint.x] = cellInfo;\n\n            if (cellInfo.remainingCost === 0) return model;\n        }\n    }\n\n    const nextSearch = findCheapestPointOnModel(model);\n\n    if (!nextSearch) return model;\n\n    return pathfinderIteration(map, nextSearch, finish, model, spendedWay + 1);\n}\n\nexport function findPathOnMap(map) {\n    const startPos = findPositionOfBlockTypeOnMap(map, START_BLOCK_ID);\n    const finishPos = findPositionOfBlockTypeOnMap(map, FINISH_BLOCK_ID);\n\n    if (!startPos || !finishPos) return Error('Map should have Start and Finish');\n\n    const model = getInitPathfinderModel(map, startPos, finishPos);\n\n    const finishedModel = pathfinderIteration(map, startPos, finishPos, model, 1);\n\n    console.log(finishedModel);\n\n    const finalWay = extractWayFromModel(finishedModel, startPos, finishPos);\n\n    return finalWay;\n}","import React, { useEffect, useState } from 'react';\nimport { BuilderControls } from './BuilderControls';\nimport { GridRenderer } from './GridRenderer';\nimport { ControlWrap } from './ControlWrap'; \nimport { NumberSelector } from './controls/NumberSelector';\nimport { ArraySelector } from './controls/ArraySelector';\nimport { \n    ALL_BLOCK_TYPES, \n    createMapOfSize, \n    EMPTY_BLOCK_ID, \n    findPositionOfBlockTypeOnMap, \n    resizeMapToSize, \n    setValueOnMap, \n    START_BLOCK_ID, \n    FINISH_BLOCK_ID, \n    WALL_BLOCK_ID, \n    LOCALSTORAGE_MAP_ID} from '../helpers/map';\n\nimport './Builder.scss';\nimport { findPathOnMap } from '../helpers/path_finder';\n\nexport function Builder() {\n    const [worldSize, setWorldSize] = useState(11);\n    const [map, setMap] = useState(createMapOfSize(worldSize));\n    const [blockType, setBlockType] = useState(WALL_BLOCK_ID);\n    const [path, setPath] = useState(null);\n\n    function handleWorldSizeChange(iteration) {\n        const newSize = worldSize + iteration;\n        const newMap = resizeMapToSize(map, newSize);\n        \n        setWorldSize(newSize);\n        updateMap(newMap);\n    }\n    \n    function updateMap(newMap) {\n        calcWay(newMap);\n        setMap(newMap);\n    }\n\n    function handleCellClick(position) {\n        switch (blockType) {\n            case WALL_BLOCK_ID:\n                let newBlockType = map[position.y][position.x] !== WALL_BLOCK_ID\n                    ? WALL_BLOCK_ID\n                    : EMPTY_BLOCK_ID;\n                setValueOnMap(map, position, newBlockType);\n                break;\n            case START_BLOCK_ID:\n            case FINISH_BLOCK_ID:\n                const existedBlockPos = findPositionOfBlockTypeOnMap(map, blockType);\n                if (!!existedBlockPos) setValueOnMap(map, existedBlockPos, EMPTY_BLOCK_ID);\n                setValueOnMap(map, position, blockType);\n\n                updateMap(map);\n                break;\n            default:\n                break;\n        }\n\n        updateMap([...map]);\n    }\n\n    function clearMap() {\n        const newMap = createMapOfSize(worldSize);\n        updateMap(newMap);\n    }\n\n    function saveMapToStorage() {\n        localStorage.setItem(LOCALSTORAGE_MAP_ID, JSON.stringify(map));\n    }\n\n    function loadMapFromStorage() {\n        const storedMap = localStorage.getItem(LOCALSTORAGE_MAP_ID);\n        if (!storedMap) return;\n        updateMap(JSON.parse(storedMap));\n    }\n\n    function calcWay() {\n        try {\n            const wayModel = findPathOnMap(map);\n            setPath(wayModel);\n        } catch (err) {\n            console.error(err);\n        }\n    }\n\n    useEffect(_ => {\n        loadMapFromStorage();\n    }, []);\n\n    return (\n        <div className=\"builder__wrap\">\n            <div className=\"builder__left-side\">\n                <GridRenderer map={map} path={path} onCellClick={handleCellClick}></GridRenderer>\n            </div>\n            <div className=\"builder__right-side\">\n                <BuilderControls>\n                    <ControlWrap name=\"World Size\">\n                        <NumberSelector value={worldSize} onChanged={handleWorldSizeChange}></NumberSelector>\n                    </ControlWrap>\n                    <ControlWrap name=\"Choose block type\">\n                        <ArraySelector list={ALL_BLOCK_TYPES} selected={blockType} onChange={setBlockType}></ArraySelector>\n                    </ControlWrap>\n                    <br />\n                    <ControlWrap name=\"Map storage\">\n                        <button onClick={clearMap}>Clear</button>\n                        <button onClick={saveMapToStorage}>Save</button>\n                        <button onClick={loadMapFromStorage}>Load</button>\n                    </ControlWrap>\n                    <br />\n                    <ControlWrap name=\"Path length:\">\n                        <span>{Array.isArray(path) ? path.length : 'null'}</span>\n                    </ControlWrap>\n                </BuilderControls>\n            </div>\n        </div>\n    )\n}","import './App.css';\nimport { Builder } from './сomponents/Builder';\n\nfunction App() {\n  return (\n    <div className=\"app__container\">\n      <header className=\"app__header\">\n        <h1 className=\"app__header-title\">\n          PathFinder: <span className=\"app__header-subtitle\">create map and find the shortest way from point A to point B</span>\n        </h1> \n      </header>\n      <Builder></Builder>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}